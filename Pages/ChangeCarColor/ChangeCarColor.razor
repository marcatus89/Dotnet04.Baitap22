@page "/"
<PageTitle>Change Color Function</PageTitle>
<h1>CHANGE CAR COLOR</h1>
<div class>
    <div class="col-6">
        <img src="products/@imgCar" style="width:100%" alt=".." class="img-fluid">
    </div>
    <div class="col-6">
        @* Dùng cách thường *@
        <button class="btn btn-danger m-2" @onclick="() => ChangeColorRed()">Red</button>
        <button class="btn btn-secondary m-2" @onclick="() => ChangeColorSilver()">Silver</button>
        <button class="btn btn-dark m-2" @onclick="() => ChangeColorBlack()">Black</button>
        <button class="btn btn-primary m-2" @onclick="() => ChangeColorSteel()">Steel</button>
        <br>
        @* Dùng vòng lặp List để hiển thị danh sách nút *@
        @foreach (var item in dsColor)
        {
            <button class="btn @GetButtonClass(item) m-2" @onclick="() => ChangeColor(item)">@item</button>
        }
        <br>
        @* Dùng vòng lặp Dictionary để hiển thị danh sách nút *@
        @foreach (var item in ColorDics)
        {
            <button class="btn @item.Value m-2" @onclick="()=>ChangeColorDics(item.Key)">@item.Key</button>
        }
    </div>
</div>


@code {
    private string imgCar = "red-car.jpg";
    private void ChangeColorRed()
    {
        imgCar = "red-car.jpg";
    }
    private void ChangeColorSilver()
    {
        imgCar = "silver-car.jpg";
    }
    private void ChangeColorBlack()
    {
        imgCar = "black-car.jpg";
    }
    private void ChangeColorSteel()
    {
        imgCar = "steel-car.jpg";
    }
    @* danh sách các màu tương ứng==>chạy vòng lặp ở list để hiển thị ra các button *@
    private List<string> dsColor = new List<string>() { "Red", "Silver", "Black", "Steel" };
    private void ChangeColor(string Color)
    {
        imgCar = $"{Color.ToLower()}" + "-car.jpg";
    }
    private string GetButtonClass(string color)
    {
        return color switch
        {
            "Red" => "btn-danger",
            "Silver" => "btn-secondary",
            "Black" => "btn-dark",
            "Steel" => "btn-primary",
            _ => "btn-light"
        };
    }
    @* danh sách các màu tương ứng==>chạy vòng lặp ở Dictionary để hiển thị ra các button *@
    private Dictionary<string,string> ColorDics= new Dictionary<string, string>()
    {
        {"Red","btn-danger"},
        {"Silver","btn-secondary"},
        {"Black","btn-dark"},
        {"Steel","btn-primary"}
    };
    private void ChangeColorDics(string Color)
    {
        imgCar=$"{Color.ToLower()}"+"-car.jpg";
    }
}